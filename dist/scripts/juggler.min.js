!function(a,b){if("function"==typeof define&&define.amd)define(["marionette","backbone","underscore"],function(c,d,e){return a.Juggler=b(a,c,d,e)});else if("undefined"!=typeof exports){var c=require("marionette"),d=require("backbone"),e=require("underscore");module.exports=b(a,c,d,e)}else a.Juggler=b(a,a.Marionette,a.Backbone,a._)}(this,function(a,b,c){"use strict";var d=a.Juggler,e=c.Juggler=new b.Application;return e.VERSION="0.0.0",e.noConflict=function(){return a.Juggler=d,this},c.Juggler=e,e.module("Config",function(a){a.Message={}}),e.module("Templates",function(a,b,c,d,e,f){a.dialog=f.template('<div class="modal-dialog">                <div class="modal-content">                    <div class="modal-header">                     <button type="button" class="close" data-dismiss="modal">                     <span aria-hidden="true">&times;</span>                     <span class="sr-only">Close</span></button>                     <h4 class="modal-title"><%= title %></h4>                    </div>                    <div class="modal-body"><%= content %></div>                    <div class="modal-footer">                    <button class="btn btn-primary">确定</button>                    </div>                </div>            </div>'),a.alert=f.template('<button type="button" class="close" data-dismiss="alert">                <span aria-hidden="true">&times;</span>                <span class="sr-only">Close</span>            </button>            <span class="alert-message">                <%= message %>            </span>'),a.form=f.template(""),a.form_row=f.template('<label class="col-md-2 contorl-label"><%- label %></label>            <div class="col-md-10"></div>            '),a.navbar=f.template('<div class="container">                  <div class="navbar-header">                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">                      <span class="sr-only">Toggle navigation</span>                      <span class="icon-bar"></span>                      <span class="icon-bar"></span>                      <span class="icon-bar"></span>                    </button>                    <a class="navbar-brand" href="#"><%= brand %></a>                  </div>                  <div class="collapse navbar-collapse" id="navbar-collapse" data-region="navbar">                    <ul class="nav navbar-nav navbar-nav-primary"></ul>                    <ul class="nav navbar-nav navbar-nav-secondary"></ul>                  </div>                </div>')}),e.module("Enities",function(a,b,c){a.Model=c.RelationalModel.extend({urlRoot:"/test",message:b.Config.Message,parse:function(a,b){return b.collection?a:a.data},index:function(){return this.collection.indexOf(this)},prev:function(){return this.collection.at(this.index()-1)},next:function(){return this.collection.at(this.index()+1)}}),a.Collection=c.Collection.extend({url:"/test",message:b.Config.Message,parse:function(a,b){return b.collection?a:a.data}})}),e.module("Views",function(a,b,c,d,e,f){a.ItemView=d.ItemView.extend({constructor:function(){f.defaults(this.options,this.defaults),d.ItemView.prototype.constructor.apply(this,arguments)},template:f.template(""),serializeData:function(){return this.model?this.model.toJSON():this.options}}),a.EmptyView=a.ItemView.extend({className:"alert alert-warning",template:b.Templates.empty,defaults:{text:"not found！"}}),a.Layout=d.LayoutView.extend({className:"row",regionAttr:"data-region",template:f.template(""),constructor:function(){f.defaults(this.options,this.defaults),d.LayoutView.apply(this,arguments)},render:function(){a.Layout.__super__.render.apply(this,arguments),this.resoveTemplateRegions()},resoveTemplateRegions:function(){var a=this,b=this.regionAttr,c="["+b+"]";this.$el.find(c).each(function(c,d){var f=e(d).attr(b);f&&a.addRegion(e.camelCase(f)+"Region","["+b+"="+f+"]")}),this.triggerMethod("resoveregion")},serializeData:function(){return this.model?this.model.toJSON():this.options}}),a.CompositeView=d.CompositeView.extend({constructor:function(){a.CompositeView.__super__.constructor.apply(this,arguments),f.defaults(this.options,this.defaults)},emptyView:a.ItemView,childViewContainer:"",template:f.template(""),getChildView:function(b){return a[b.get("viewType")]||d.getOption(this,"childView")||this.constructor}}),a.Item=a.ItemView.extend({tagName:"li",template:f.template('<a data-target="#<%- value %>" data-toggle="tab"><%- name %></a>'),triggers:{"click a":"click"}}),a.List=a.CompositeView.extend({tagName:"ul",template:f.template(""),childView:a.Item})}),e.module("Widgets",function(a,b,c,d,e,f){a.Dialog=b.Views.Layout.extend({className:"modal fade",template:b.Templates.dialog,defaults:{type:"success",title:"",content:"",buttons:{positive:{},negative:{}},backdrop:"static"},ui:{header:".modal-header",body:".modal-body",footer:".modal-footer"},regions:{headerRegion:".modal-header",bodyRegion:".modal-body",footerRegion:".modal-footer"},onRender:function(){return this.ui.header.addClass("alert alert-"+this.options.type),this.options.buttons?void 0:void this.ui.footer.remove()},onShow:function(){this.$el.modal(this.options)},onClose:function(){this.$el.modal("destroy")}}),a.Notice=b.Views.ItemView.extend({className:"alert alert-dismissable fade in animated juggler-alert",template:b.Templates.alert,defaults:{type:"warning"},events:{"close.bs.alert":"onClose"},initialize:function(a){this.$el.addClass("alert-"+a.type)},serializeData:function(){return this.options},onShow:function(){this.$el.css("margin-left",-this.$el.outerWidth()/2+"px"),this.$el.addClass("bounceInDown")},onClose:function(){this.destroy()}}),a.Progressbar=d.ItemView.extend({className:"progress progress-striped active juggler-progress",template:f.template('<div class="progress-bar"></div>'),defaults:{type:"success"},ui:{bar:".progress-bar"},modelEvents:{progress:"onProgress"},initialize:function(a){this.options=f.defaults(a,d.getOption(this,"defaults"))},progress:function(a){return a=0>a?0:a,a=a>100?100:a,a>=100?this.destroy():void this.ui.bar.css("width",a+"%")},onRender:function(){this.ui.bar.addClass("progress-bar-"+this.options.type)},onProgress:function(a){this.progress(a)}}),a.GroupItem=b.Views.Item.extend({className:"list-group-item"}),a.ListGroup=b.Views.List.extend({className:"list-group",childView:a.GroupItem}),a.Tabs=b.Views.List.extend({className:"nav nav-tabs"}),a.Pills=b.Views.List.extend({className:"nav nav-pills"}),a.Stack=b.Views.List.extend({className:"nav nav-pills nav-stacked"}),a.Nav=b.Views.List.extend({className:"nav navbar-nav"}),a.Breadcrumb=b.Views.List.extend({className:"breadcrumb"}),a.Navbar=b.Views.List.extend({className:"navbar navbar-static-top navbar-default",tagName:"div",childViewContainer:".navbar-nav-primary",template:b.Templates.navbar,defaults:{brand:"Home"},childEvents:{click:"onClick"},onClick:function(a){c.history.navigate(a.model.get("value"))},serializeData:function(){return this.options}})}),e.module("Components",function(a,b){a.FormRow=b.Views.ItemView.extend({className:"form-group",template:b.Templates.form_row}),a.Form=b.Views.CompositeView.extend({tagName:"form",childView:a.FormRow})}),e.module("Editors",function(){}),e.addInitializer(function(){e.addRegions({headerRegion:"#header",mainRegion:"#main",footerRegion:"#footer",notifyRegion:"#notify",dialogRegion:"#dialog"})}),e.on("start",function(){c.history&&c.history.start()}),e});